<div class="page-container">

    <app-table-toolbar [tabs]="tabs" [activeTab]="activeTab" [onlyMeActive]="onlyMeActive"
        [searchText]="quickFilterText" [activeFilterCount]="activeFilterCount" (tabChange)="onTabChange($event)"
        (onlyMeChange)="onOnlyMeChange($event)" (searchChange)="onSearchChange($event)"
        (clearFilters)="onClearFilters()">
        <div toolbar-actions class="actions">
            <button mat-flat-button color="primary" (click)="openImportDialog()">
                <mat-icon>upload_file</mat-icon> Import CSV
            </button>

            <button mat-stroked-button (click)="reload()">
                <mat-icon>refresh</mat-icon> Reload
            </button>
        </div>
    </app-table-toolbar>

    <div class="grid-container">
        @if (hostsService.hostsResource.isLoading()) {
        <app-skeleton-loading-overlay></app-skeleton-loading-overlay>
        } @else if (hostsService.hostsResource.error()) {
        <div class="error-container">
            Error loading hosts.
            <button mat-button (click)="reload()">Retry</button>
        </div>
        } @else {
        <app-ag-grid-wrapper [rowData]="hostsService.hostsResource.value() || []" [columnDefs]="columnDefs"
            [quickFilterText]="quickFilterText" (gridReady)="onGridReady($event)"
            [fitColumns]="false"></app-ag-grid-wrapper>
        }
    </div>
</div>